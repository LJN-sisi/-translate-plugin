<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TranslatePlugin - 由你进化</title>
    
    <!-- 安全策略 -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' http://localhost:* https://api.deepseek.com https://api.github.com; img-src 'self' data:; frame-ancestors 'none';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=JetBrains+Mono:wght@400&family=Space+Grotesk:wght@500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 科技感背景装饰 -->
    <div class="tech-background">
        <div class="data-points">
            <span class="data-point"></span>
            <span class="data-point"></span>
            <span class="data-point"></span>
            <span class="data-point"></span>
        </div>
        <div class="code-floating" style="top: 15%; left: 5%;">function translate() {}</div>
        <div class="code-floating" style="top: 30%; right: 8%;">AI.process(feedback)</div>
        <div class="code-floating" style="top: 50%; left: 3%;">const language = 'zh'</div>
        <div class="code-floating" style="top: 70%; right: 5%;">export default plugin</div>
    </div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <div class="logo">
                TranslatePlugin<span class="logo-dot"></span>
            </div>
            <ul class="nav-menu">
                <li><a href="#docs">快速开始</a></li>
                <li><a href="#product">产品解码</a></li>
                <li><a href="#feedback">反馈光谱</a></li>
                <li><a href="#agent">进化节点</a></li>
            </ul>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <a href="#docs">快速开始</a>
        <a href="#product">产品解码</a>
        <a href="#feedback">反馈光谱</a>
        <a href="#agent">进化节点</a>
    </div>

    <!-- Hero Section -->
    <section id="hero">
        <div class="hero-content">
            <div class="hero-top">
                <span class="status-dot"></span>
                <span class="status-text">翻译插件</span>
                <span class="status-text">今日已处理 <span id="todayCount">47</span> 条反馈</span>
            </div>
            <div class="hero-main">
                <div class="hero-text">
                    <h1 class="hero-title">由你进化</h1>
                    <p class="hero-subtitle">你的每一次反馈，都在重写代码</p>
                    <div class="hero-buttons">
                        <a href="/api/download" class="btn btn-outline" download>下载插件</a>
                        <a href="#docs" class="btn btn-primary">查看文档</a>
                    </div>
                </div>
                <div class="hero-product-image">
                    <div class="product-image-3d">
                        <img src="屏幕截图 2026-02-27 103721.png" alt="翻译插件产品截图" />
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Agent Section -->
    <section id="agent">
        <div class="agent-container">
            <!-- Left Column - Real-time Feedback Stream -->
            <div class="agent-column agent-column-left" id="feedbackStream">
                <div class="column-header">
                    <span class="live-dot"></span>
                    实时意见流
                </div>
                <div class="column-content" id="agentFeedbackList">
                    <!-- Populated by JS -->
                </div>
            </div>

            <!-- Right Column - AI Agent Stream Output -->
            <div class="agent-column agent-column-right" id="agentStream">
                <div class="column-header">
                    <span class="ai-dot"></span>
                    智能体流式输出
                </div>
                <div class="column-content stream-content" id="streamOutput">
                    <div class="stream-welcome">
                        <div class="stream-prompt">$</div>
                        <div class="stream-text">等待反馈输入，触发智能体处理...</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Feedback Plaza Section -->
    <section id="feedback">
        <div class="feedback-container">
            <!-- Left Column - Feedback List -->
            <div class="feedback-main">
                <h2 class="section-title">反馈<span class="highlight">光谱</span></h2>
                
                <!-- Input Box -->
                <div class="feedback-input-wrapper">
                    <span class="input-prompt">$</span>
                    <input type="text" id="feedbackInput" class="feedback-input" placeholder="输入你的反馈 >" maxlength="280">
                    <button class="submit-btn" id="submitFeedback" disabled>&gt;</button>
                </div>
                <div class="char-count"><span id="charCount">0</span>/280</div>

                <!-- Filter Tabs -->
                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all">全部</button>
                    <button class="filter-tab" data-filter="pending">待处理</button>
                    <button class="filter-tab" data-filter="processed">已处理</button>
                </div>

                <!-- Feedback List -->
                <div class="feedback-list" id="feedbackList">
                    <!-- Populated by JS -->
                </div>
            </div>

            <!-- Right Column - Stats Panel -->
            <div class="feedback-sidebar">
                <!-- 面板已清空，为后续扩展预留 -->
            </div>
        </div>
    </section>

    <!-- Product Section -->
    <section id="product">
        <div class="product-container">
            <h2 class="section-title">产品解码</h2>
            <div class="product-grid">
                <div class="product-card">
                    <h3 class="card-title">AI翻译</h3>
                    <p class="card-desc">DeepSeek AI + Alt+T 快捷翻译</p>
                    <div class="code-block">
                        <code>Alt+T 快捷翻译<br>选中文本即译</code>
                    </div>
                </div>
                <div class="product-card">
                    <h3 class="card-title">多语言支持</h3>
                    <p class="card-desc">中文、英文、日语、韩语等</p>
                    <div class="code-block">
                        <code>zh ↔ en ↔ ja ↔ ko<br>多语言互译</code>
                    </div>
                </div>
                <div class="product-card">
                    <h3 class="card-title">反馈驱动</h3>
                    <p class="card-desc">你的反馈推动产品持续进化</p>
                    <div class="code-block">
                        <code>submitFeedback()<br>→ 产品优化</code>
                    </div>
                </div>
                <div class="product-card">
                    <h3 class="card-title">隐私保护</h3>
                    <p class="card-desc">API Key 仅本地存储</p>
                    <div class="code-block">
                        <code>// 数据仅本地处理<br>// 不收集用户信息</code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline Section -->
    <section id="timeline">
        <div class="timeline-container">
            <h2 class="section-title">进化轨迹</h2>
            <p class="timeline-subtitle">记录每一次产品迭代</p>
            
            <!-- 自动刷新状态 -->
            <div class="auto-refresh-status" id="autoRefreshStatus">
                <span class="refresh-indicator"></span>
                <span class="refresh-text">自动更新中</span>
            </div>
            
            <!-- 版本时间线 - 动态生成 -->
            <div class="version-timeline" id="versionTimeline">
                <div class="timeline-line"></div>
                <div class="timeline-loading">正在加载进化轨迹...</div>
            </div>

            <!-- 版本详情 -->
            <div class="version-details" id="versionDetails">
                <div class="version-placeholder">选择版本节点查看详情</div>
            </div>
        </div>
    </section>

    <!-- 插件文档 - 快速开始 -->
    <section id="docs">
        <div class="docs-container">
            <h2 class="section-title">快速<span class="highlight">开始</span></h2>
            <p class="docs-subtitle">3步开始使用 AI 翻译插件</p>
            
            <div class="docs-grid">
                <div class="docs-card">
                    <div class="docs-step">01</div>
                    <h3 class="docs-card-title">安装插件</h3>
                    <p class="docs-card-desc">下载插件文件，解压后加载到浏览器扩展程序</p>
                    <div class="docs-code">
                        <code>Chrome: chrome://extensions/<br>→ 开发者模式 → 加载解压扩展</code>
                    </div>
                </div>
                
                <div class="docs-card">
                    <div class="docs-step">02</div>
                    <h3 class="docs-card-title">配置 API</h3>
                    <p class="docs-card-desc">点击插件图标，设置你的 AI 服务 API 密钥</p>
                    <div class="docs-code">
                        <code>支持: DeepSeek / OpenAI<br>/ Claude / Gemini 等</code>
                    </div>
                </div>
                
                <div class="docs-card">
                    <div class="docs-step">03</div>
                    <h3 class="docs-card-title">开始翻译</h3>
                    <p class="docs-card-desc">选中文本，按 Alt+T 或右键翻译</p>
                    <div class="docs-code">
                        <code>Alt+T → 翻译选中文本<br>右键菜单 → Translate</code>
                    </div>
                </div>
            </div>
            
            <div class="docs-features">
                <h3 class="docs-features-title">✨ 核心功能</h3>
                <div class="docs-features-grid">
                    <div class="feature-item">
                        <span class="feature-icon">⚡</span>
                        <span>Alt+T 快捷翻译</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">🌐</span>
                        <span>8+ AI 翻译引擎</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">🔒</span>
                        <span>本地存储 API Key</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">📋</span>
                        <span>一键复制结果</span>
                    </div>
                </div>
            </div>
            
            <div class="docs-providers">
                <h3 class="docs-providers-title">🤖 支持的 AI 提供商</h3>
                <div class="providers-list">
                    <span class="provider-tag deepseek">DeepSeek</span>
                    <span class="provider-tag openai">OpenAI</span>
                    <span class="provider-tag anthropic">Claude</span>
                    <span class="provider-tag google">Gemini</span>
                    <span class="provider-tag azure">Azure</span>
                    <span class="provider-tag xai">xAI</span>
                    <span class="provider-tag cohere">Cohere</span>
                    <span class="provider-tag mistral">Mistral</span>
                </div>
            </div>
            
            <div class="docs-advantages">
                <h3 class="docs-advantages-title">🎯 为什么选择我们</h3>
                <div class="advantages-grid">
                    <div class="advantage-card">
                        <div class="advantage-number">01</div>
                        <h4>多引擎自由切换</h4>
                        <p>支持8种主流AI翻译服务，按需选择，灵活切换</p>
                    </div>
                    <div class="advantage-card">
                        <div class="advantage-number">02</div>
                        <h4>反馈直达开发</h4>
                        <p>你的反馈直接推动产品进化，见证代码变更</p>
                    </div>
                    <div class="advantage-card">
                        <div class="advantage-number">03</div>
                        <h4>隐私安全优先</h4>
                        <p>API密钥仅本地存储，不收集任何用户数据</p>
                    </div>
                    <div class="advantage-card">
                        <div class="advantage-number">04</div>
                        <h4>开源可定制</h4>
                        <p>完全开源，支持二次开发，打造专属翻译体验</p>
                    </div>
                </div>
            </div>
            
            <div class="docs-download">
                <a href="https://github.com/LJN-sisi/ai-translator" target="_blank" class="btn btn-primary btn-large">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
                    </svg>
                    GitHub 下载
                </a>
                <span class="docs-version">当前版本: v1.0.0</span>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <p class="footer-brand">TranslatePlugin — 每一次使用，都是一次进化</p>
            <p class="footer-copyright">&copy; 2024 TranslatePlugin. All rights reserved.</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
